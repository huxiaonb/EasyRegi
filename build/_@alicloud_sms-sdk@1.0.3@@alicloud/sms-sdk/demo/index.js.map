{"version":3,"sources":["_@alicloud_sms-sdk@1.0.3@@alicloud/sms-sdk/demo/index.js"],"names":["SMSClient","require","accessKeyId","secretAccessKey","queueName","smsClient","receiveMsg","then","res","code","body","console","log","err","queryDetail","PhoneNumber","SendDate","PageSize","CurrentPage","Code","SmsSendDetailDTOs","sendSMS","PhoneNumbers","SignName","TemplateCode","TemplateParam"],"mappings":";;AAAA;;;;;AAKA,IAAMA,YAAYC,QAAQ,YAAR,CAAlB;;AAEA;AACA,IAAMC,cAAc,iBAApB;AACA,IAAMC,kBAAkB,qBAAxB;;AAEA;AACA,IAAMC,YAAY,gCAAlB;;AAEA;AACA,IAAIC,YAAY,IAAIL,SAAJ,CAAc,EAACE,wBAAD,EAAcC,gCAAd,EAAd,CAAhB;;AAEA;AACAE,UAAUC,UAAV,CAAqB,CAArB,EAAwBF,SAAxB,EAAmCG,IAAnC,CAAwC,UAAUC,GAAV,EAAe;AACnD;AADmD,QAE9CC,IAF8C,GAElCD,GAFkC,CAE9CC,IAF8C;AAAA,QAExCC,IAFwC,GAElCF,GAFkC,CAExCE,IAFwC;;AAGnD,QAAID,SAAS,GAAb,EAAkB;AACd;AACAE,gBAAQC,GAAR,CAAYF,IAAZ;AACH;AACJ,CAPD,EAOG,UAAUG,GAAV,EAAe;AACdF,YAAQC,GAAR,CAAYC,GAAZ;AACH,CATD;;AAWA;AACAR,UAAUC,UAAV,CAAqB,CAArB,EAAwBF,SAAxB,EAAmCG,IAAnC,CAAwC,UAAUC,GAAV,EAAe;AACnD;AADmD,QAE9CC,IAF8C,GAElCD,GAFkC,CAE9CC,IAF8C;AAAA,QAExCC,IAFwC,GAElCF,GAFkC,CAExCE,IAFwC;;AAGnD,QAAID,SAAS,GAAb,EAAkB;AACd;AACAE,gBAAQC,GAAR,CAAYF,IAAZ;AACH;AACJ,CAPD,EAOG,UAAUG,GAAV,EAAe;AACdF,YAAQC,GAAR,CAAYC,GAAZ;AACH,CATD;;AAYA;AACAR,UAAUS,WAAV,CAAsB;AAClBC,iBAAa,YADK;AAElBC,cAAU,UAFQ;AAGlBC,cAAU,IAHQ;AAIlBC,iBAAa;AAJK,CAAtB,EAKGX,IALH,CAKQ,UAAUC,GAAV,EAAe;AAAA,QACdW,IADc,GACWX,GADX,CACdW,IADc;AAAA,QACRC,iBADQ,GACWZ,GADX,CACRY,iBADQ;;AAEnB,QAAID,SAAS,IAAb,EAAmB;AACf;AACAR,gBAAQC,GAAR,CAAYQ,iBAAZ;AACH;AACJ,CAXD,EAWG,UAAUP,GAAV,EAAe;AACd;AACAF,YAAQC,GAAR,CAAYC,GAAZ;AACH,CAdD;;AAgBA;AACAR,UAAUgB,OAAV,CAAkB;AACdC,kBAAc,YADA;AAEdC,cAAU,OAFI;AAGdC,kBAAc,YAHA;AAIdC,mBAAe;AAJD,CAAlB,EAKGlB,IALH,CAKQ,UAAUC,GAAV,EAAe;AAAA,QACdW,IADc,GACRX,GADQ,CACdW,IADc;;AAEnB,QAAIA,SAAS,IAAb,EAAmB;AACf;AACAR,gBAAQC,GAAR,CAAYJ,GAAZ;AACH;AACJ,CAXD,EAWG,UAAUK,GAAV,EAAe;AACdF,YAAQC,GAAR,CAAYC,GAAZ;AACH,CAbD","file":"_@alicloud_sms-sdk@1.0.3@@alicloud/sms-sdk/demo/index.js","sourcesContent":["/**\n * 云通信基础能力业务短信发送、查询详情以及消费消息示例，供参考。\n * Created on 2017-07-31\n */\n\nconst SMSClient = require('./../index')\n\n// ACCESS_KEY_ID/ACCESS_KEY_SECRET 根据实际申请的账号信息进行替换\nconst accessKeyId = 'yourAccessKeyId'\nconst secretAccessKey = 'yourAccessKeySecret'\n\n//在云通信页面开通相应业务消息后，就能在页面上获得对应的queueName,不用填最后面一段\nconst queueName = 'Alicom-Queue-1092397003988387-'\n\n//初始化sms_client\nlet smsClient = new SMSClient({accessKeyId, secretAccessKey})\n\n//短信回执报告\nsmsClient.receiveMsg(0, queueName).then(function (res) {\n    //消息体需要base64解码\n    let {code, body}=res\n    if (code === 200) {\n        //处理消息体,messagebody\n        console.log(body)\n    }\n}, function (err) {\n    console.log(err)\n})\n\n//短信上行报告\nsmsClient.receiveMsg(1, queueName).then(function (res) {\n    //消息体需要base64解码\n    let {code, body}=res\n    if (code === 200) {\n        //处理消息体,messagebody\n        console.log(body)\n    }\n}, function (err) {\n    console.log(err)\n})\n\n\n//查询短信发送详情\nsmsClient.queryDetail({\n    PhoneNumber: '1500000000',\n    SendDate: '20170731',\n    PageSize: '10',\n    CurrentPage: \"1\"\n}).then(function (res) {\n    let {Code, SmsSendDetailDTOs}=res\n    if (Code === 'OK') {\n        //处理发送详情内容\n        console.log(SmsSendDetailDTOs)\n    }\n}, function (err) {\n    //处理错误\n    console.log(err)\n})\n\n//发送短信\nsmsClient.sendSMS({\n    PhoneNumbers: '1500000000',\n    SignName: '云通信产品',\n    TemplateCode: 'SMS_000000',\n    TemplateParam: '{\"code\":\"12345\",\"product\":\"云通信\"}'\n}).then(function (res) {\n    let {Code}=res\n    if (Code === 'OK') {\n        //处理返回参数\n        console.log(res)\n    }\n}, function (err) {\n    console.log(err)\n})\n"],"sourceRoot":"/source/"}